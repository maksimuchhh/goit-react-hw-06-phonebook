(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{15:function(t,e,n){t.exports={title:"App_title__-GfWs",container:"App_container__1MQN3",error:"App_error__1umzI",appear:"App_appear__3r9lb",appearActive:"App_appearActive__1uccQ",enter:"App_enter__2d_oE",enterActive:"App_enterActive__3Z_zS",exit:"App_exit__qu2sb",exitActive:"App_exitActive__3R2-x"}},38:function(t,e,n){t.exports={form:"Form_form__2TM1N"}},51:function(t,e,n){},53:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);var c,r,a=n(0),o=n.n(a),i=n(19),s=n(8),u=n.n(s),l=(n(51),n(3)),j=n(20),b=n(2),p=n(7),d=Object(l.b)("contacts/fetchContactsRequest"),h=Object(l.b)("contacts/fetchContactsSuccess"),f=Object(l.b)("contacts/fetchContactsError"),O=Object(l.b)("contacts/addRequest"),m=Object(l.b)("contacts/addSuccess"),x=Object(l.b)("contacts/addError"),v=Object(l.b)("contacts/deleteRequest"),g=Object(l.b)("contacts/deleteSuccess"),_=Object(l.b)("contacts/deleteError"),C=Object(l.b)("contacts/changeFilter"),y=Object(l.c)("",Object(b.a)({},C,(function(t,e){return e.payload}))),A=Object(l.c)([],(c={},Object(b.a)(c,h,(function(t,e){return e.payload})),Object(b.a)(c,m,(function(t,e){var n=e.payload;return[].concat(Object(j.a)(t),[n])})),Object(b.a)(c,g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),F=Object(l.c)(!1,(r={},Object(b.a)(r,d,(function(){return!0})),Object(b.a)(r,O,(function(){return!0})),Object(b.a)(r,v,(function(){return!0})),Object(b.a)(r,h,(function(){return!1})),Object(b.a)(r,f,(function(){return!1})),Object(b.a)(r,m,(function(){return!1})),Object(b.a)(r,x,(function(){return!1})),Object(b.a)(r,g,(function(){return!1})),Object(b.a)(r,_,(function(){return!1})),r)),S=Object(p.c)({items:A,filter:y,loading:F}),k=Object(l.a)({reducer:{contacts:S},devTools:!1}),N=n(24),w=n.n(N),E=n(37),I=n(9),T=n(10),R=n(13),q=n(12),M=n(77),D=n(78),L=(n(53),n(15)),z=n.n(L),J=n(1),Q=function(t){var e=t.children,n=t.title;return Object(J.jsxs)(J.Fragment,{children:[n&&Object(J.jsx)("h2",{children:n}),Object(J.jsx)("section",{children:e})]})},U=(n(55),function(t){Object(R.a)(n,t);var e=Object(q.a)(n);function n(){return Object(I.a)(this,n),e.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.changeInputForFilter,c=t.changeInput,r=t.value,a=t.isOpen,o=Object(j.a)(e);return o.splice(0,1,o[0].toUpperCase()),"filter"===e?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(M.a,{in:a,timeout:250,classNames:"label",unmountOnExit:!0,children:Object(J.jsx)("label",{htmlFor:e,children:o})}),Object(J.jsx)(M.a,{in:a,timeout:250,classNames:"form",unmountOnExit:!0,children:Object(J.jsx)("input",{onChange:"filter"===e?n:c,type:"text",id:e,value:r})})]}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("label",{htmlFor:e,children:o}),Object(J.jsx)("input",{onChange:c,type:"text",id:e,value:r})]})}}]),n}(a.Component)),B=n(25),G=function(t){var e=t.text,n=t.deleteContact,c=t.id;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("button",{id:n?c:null,onClick:n?function(){return n(c)}:null,type:"submit",children:e})})},P=n(38),W=n.n(P),Y=function(t){Object(R.a)(n,t);var e=Object(q.a)(n);function n(){var t;Object(I.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.changeInput=function(e){t.setState((function(t){return Object(B.a)(Object(B.a)({},t),{},Object(b.a)({},e.target.id,e.target.value))}))},t}return Object(T.a)(n,[{key:"render",value:function(){var t=this,e=this.props.addContact;return Object(J.jsxs)("form",{className:W.a.form,onSubmit:function(n){return t.setState({name:"",number:""}),e(n,t.state)},children:[Object(J.jsx)(U,{name:"name",changeInput:this.changeInput,value:this.state.name}),Object(J.jsx)(U,{name:"number",changeInput:this.changeInput,value:this.state.number}),Object(J.jsx)(G,{state:this.state,text:"Add contact",addContact:e})]})}}]),n}(a.Component),Z=n(79),H=(n(56),function(t){var e=t.contacts,n=t.filter,c=t.deleteContact;return n.length>0&&(e=e.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))),Object(J.jsx)(Z.a,{component:"ul",children:e.map((function(t){return Object(J.jsx)(M.a,{timeout:250,classNames:"item",children:Object(J.jsxs)("li",{children:[Object(J.jsx)("span",{children:t.name}),": ",Object(J.jsxs)("span",{children:[t.number," "]}),Object(J.jsx)(G,{deleteContact:c,text:"Delete",id:t.id})]})},t.id)}))})}),K=n(16),V=n.n(K);V.a.defaults.baseURL="http://localhost:3000/contacts";var X=function(){return function(t){t(d()),V.a.get().then((function(e){var n=e.data;return t(h(n))})).catch((function(e){return t(f(e))}))}},$=function(t){return function(e){e(O()),V.a.post("",t).then((function(t){var n=t.data;return e(m(n))})).catch((function(t){return e(x(t))}))}},tt=function(t){return function(e){e(v()),V.a.delete("/".concat(t)).then((function(){return e(g(t))})).catch((function(t){return e(_(t))}))}},et=function(t){return t.contacts.filter},nt=function(t){return t.contacts.items},ct=function(t){Object(R.a)(n,t);var e=Object(q.a)(n);function n(){var t;Object(I.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={error:!1,errorText:null},t.addContact=function(e,n){e.preventDefault();var c=Object(D.a)(),r=n.name,a=n.number;return 0===(a.length||r.length)?(t.setState({errorText:"Enter all empties",error:!0}),void setTimeout((function(){t.setState({error:!1})}),5e3)):void 0!==t.props.contacts.find((function(t){return t.name===r}))?(t.setState({errorText:"You already add ".concat(r),error:!0}),void setTimeout((function(){t.setState({error:!1})}),5e3)):void t.props.addContact({id:c,name:r,number:a})},t}return Object(T.a)(n,[{key:"componentDidMount",value:function(){var t=Object(E.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.fetchContacts();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(J.jsxs)("div",{className:z.a.container,children:[Object(J.jsx)(M.a,{in:!1!==this.state.error,timeout:300,classNames:z.a,unmountOnExit:!0,children:Object(J.jsx)("div",{className:z.a.error,children:this.state.errorText})}),Object(J.jsx)(M.a,{in:!0,timeout:500,appear:!0,classNames:z.a,unmountOnExit:!0,children:Object(J.jsx)("h1",{className:z.a.title,children:"Phonebook"})}),Object(J.jsx)(Y,{addContact:this.addContact}),this.props.contacts.length>0&&Object(J.jsxs)(Q,{title:"Contacts",children:[Object(J.jsx)(U,{name:"filter",isOpen:this.props.contacts.length>1,changeInputForFilter:this.props.changeFilter}),Object(J.jsx)(H,{contacts:this.props.contacts,filter:this.props.filter,deleteContact:this.props.deleteContact})]})]})}}]),n}(a.Component),rt=Object(i.b)((function(t){return{filter:et(t),contacts:nt(t)}}),(function(t){return{fetchContacts:function(){return t(X())},changeFilter:function(e){return t(C(e.target.value))},addContact:function(e){return t($(e))},deleteContact:function(e){return t(tt(e))}}}))(ct);u.a.render(Object(J.jsx)(o.a.StrictMode,{children:Object(J.jsx)(i.a,{store:k,children:Object(J.jsx)(rt,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.770a9bc0.chunk.js.map