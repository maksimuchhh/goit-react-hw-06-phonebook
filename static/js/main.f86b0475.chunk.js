(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{11:function(t,e,n){"use strict";n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return O})),n.d(e,"d",(function(){return l}));var r=n(2),c=(Object(r.b)("user/getCurrentUserRequest"),Object(r.b)("user/getCurrentUserSuccess"),Object(r.b)("user/getCurrentUserError"),Object(r.b)("user/registerRequest"),Object(r.b)("user/registerSuccess"),Object(r.b)("user/registerError"),Object(r.b)("user/loginRequest"),Object(r.b)("user/loginSuccess"),Object(r.b)("user/loginError"),Object(r.b)("user/logoutRequest"),Object(r.b)("user/logoutSuccess"),Object(r.b)("user/logoutError"),Object(r.b)("contacts/fetchContactsRequest")),u=Object(r.b)("contacts/fetchContactsSuccess"),o=Object(r.b)("contacts/fetchContactsError"),i=Object(r.b)("contacts/addRequest"),a=Object(r.b)("contacts/addSuccess"),s=Object(r.b)("contacts/addError"),b=Object(r.b)("contacts/deleteRequest"),j=Object(r.b)("contacts/deleteSuccess"),O=Object(r.b)("contacts/deleteError"),l=Object(r.b)("contacts/changeFilter")},32:function(t,e,n){"use strict";var r=n(35),c=n.n(r),u=n(44),o=n(23),i=n.n(o),a=n(5);i.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){i.a.defaults.headers.common.Authorization=""};e.a={getCurrentUser:function(){return function(){var t=Object(u.a)(c.a.mark((function t(e,n){var r,u,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),u=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(u),e(Object(a.b)()),t.prev=5,t.next=8,i.a.get("/users/current");case 8:o=t.sent,e(Object(a.c)(o.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(a.a)(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()},register:function(t){return function(e){e(Object(a.k)()),i.a.post("/users/signup",t).then((function(t){var n=t.data;console.log(n),s(n.token),e(Object(a.l)(n))})).catch((function(t){return e(Object(a.j)(t.message))}))}},login:function(t){return function(e){e(Object(a.e)()),i.a.post("/users/login",t).then((function(t){var n=t.data;s(n.token),e(Object(a.f)(n))})).catch((function(t){return e(Object(a.d)(t.message))}))}},logout:function(t){return function(e){e(Object(a.h)()),i.a.post("/users/logout",t).then((function(t){var n=t.data;return e(Object(a.i)(n))})).catch((function(t){return e(Object(a.g)(t.message))})),b()}}}},5:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o})),n.d(e,"k",(function(){return i})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return O})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"g",(function(){return f}));var r=n(2),c=Object(r.b)("user/getCurrentUserRequest"),u=Object(r.b)("user/getCurrentUserSuccess"),o=Object(r.b)("user/getCurrentUserError"),i=Object(r.b)("user/registerRequest"),a=Object(r.b)("user/registerSuccess"),s=Object(r.b)("user/registerError"),b=Object(r.b)("user/loginRequest"),j=Object(r.b)("user/loginSuccess"),O=Object(r.b)("user/loginError"),l=Object(r.b)("user/logoutRequest"),d=Object(r.b)("user/logoutSuccess"),f=Object(r.b)("user/logoutError")},68:function(t,e,n){},94:function(t,e,n){"use strict";n.r(e);var r,c,u,o,i,a,s=n(0),b=n.n(s),j=n(20),O=n(14),l=n(55),d=n(31),f=n.n(d),g=(n(68),n(21)),h=n(2),p=n(19),x=n(56),v=n.n(x),m=n(4),y=n(8),k=n(11),C=Object(h.c)("",Object(m.a)({},k.d,(function(t,e){return e.payload}))),R=Object(h.c)([],(r={},Object(m.a)(r,k.j,(function(t,e){return e.payload})),Object(m.a)(r,k.c,(function(t,e){var n=e.payload;return[].concat(Object(g.a)(t),[n])})),Object(m.a)(r,k.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),S=Object(h.c)(!1,(c={},Object(m.a)(c,k.i,(function(){return!0})),Object(m.a)(c,k.b,(function(){return!0})),Object(m.a)(c,k.f,(function(){return!0})),Object(m.a)(c,k.j,(function(){return!1})),Object(m.a)(c,k.h,(function(){return!1})),Object(m.a)(c,k.c,(function(){return!1})),Object(m.a)(c,k.a,(function(){return!1})),Object(m.a)(c,k.g,(function(){return!1})),Object(m.a)(c,k.e,(function(){return!1})),c)),A=Object(y.c)({items:R,filter:C,loading:S}),E=n(5),q={name:null,email:null},U=Object(h.c)({},(u={},Object(m.a)(u,E.c,(function(t,e){return e.payload})),Object(m.a)(u,E.f,(function(t,e){return e.payload.user})),Object(m.a)(u,E.l,(function(t,e){return e.payload.user})),Object(m.a)(u,E.i,(function(){return q})),u)),w=Object(h.c)(null,(o={},Object(m.a)(o,E.f,(function(t,e){return e.payload.token})),Object(m.a)(o,E.l,(function(t,e){return e.payload.token})),Object(m.a)(o,E.i,(function(){return null})),o)),T=Object(h.c)(!1,(i={},Object(m.a)(i,E.c,(function(){return!0})),Object(m.a)(i,E.f,(function(){return!0})),Object(m.a)(i,E.l,(function(){return!0})),Object(m.a)(i,E.i,(function(){return!1})),Object(m.a)(i,E.a,(function(){return!1})),Object(m.a)(i,E.j,(function(){return!1})),Object(m.a)(i,E.d,(function(){return!1})),i)),z=Object(h.c)(null,(a={},Object(m.a)(a,E.d,(function(t,e){return e.payload})),Object(m.a)(a,E.j,(function(t,e){return e.payload})),Object(m.a)(a,E.g,(function(t,e){return e.payload})),Object(m.a)(a,E.a,(function(t,e){return e.payload})),a)),F=Object(y.c)({user:U,isAuthenticated:T,token:w,error:z}),L=Object(g.a)(Object(h.d)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})),D={key:"auth",storage:v.a,whitelist:["token"]},I=Object(h.a)({reducer:{auth:Object(p.g)(D,F),contacts:A},middleware:L,devTools:!1}),N={store:I,persistor:Object(p.h)(I)},B=n(39),J=n(27),M=n(41),H=n(40),P=n(7),W=n(32),G=function(t){return t.auth.isAuthenticated},K=function(t){return t.auth.user.name},Q=n(3),V={container:{display:"flex",justifyContent:"flex-end",alignItems:"center"},greeting:{marginRight:"20px"},button:{height:"25px",marginRight:"25px"}};var X={logout:W.a.logout},Y=Object(O.b)((function(t){return{userName:K(t)}}),X)((function(t){var e=t.userName,n=t.logout;return Object(Q.jsxs)("div",{style:V.container,children:[Object(Q.jsxs)("p",{style:V.greeting,children:["Hello, ",e]}),Object(Q.jsx)("button",{style:V.button,onClick:function(){n()},children:"Logout"})]})})),Z={container:{textAlign:"center"},link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#FFF"},activeLink:{color:"#519CD2"}};var $=function(){return Object(Q.jsxs)("div",{style:Z.container,children:[Object(Q.jsx)(j.b,{to:"/register",exact:!0,style:Z.link,activeStyle:Z.activeLink,children:"Registration"}),Object(Q.jsx)(j.b,{to:"/login",exact:!0,style:Z.link,activeStyle:Z.activeLink,children:"Log In"})]})};var _=Object(O.b)((function(t){return{isAuthenticated:G(t)}}))((function(t){var e=t.isAuthenticated;return Object(Q.jsx)(Q.Fragment,{children:e?Object(Q.jsx)(Y,{}):Object(Q.jsx)($,{})})})),tt=n(22),et=n(6),nt=Object(O.b)((function(t){return{isAuthenticated:G(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(et.a)(t,["component","isAuthenticated","redirectTo"]);return Object(Q.jsx)(P.b,Object(tt.a)(Object(tt.a)({},c),{},{render:function(t){return n&&c.restricted?Object(Q.jsx)(P.a,{to:r}):Object(Q.jsx)(e,Object(tt.a)({},t))}}))})),rt=Object(O.b)((function(t){return{isAuthenticated:G(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(et.a)(t,["component","isAuthenticated","redirectTo"]);return Object(Q.jsx)(P.b,Object(tt.a)(Object(tt.a)({},c),{},{render:function(t){return n?Object(Q.jsx)(e,Object(tt.a)({},t)):Object(Q.jsx)(P.a,{to:r})}}))})),ct=n(108),ut=n(110),ot=Object(ct.a)((function(t){return{root:{position:"absolute",top:0,left:0,width:"100%"}}}));function it(){var t=ot();return Object(Q.jsx)("div",{className:t.root,children:Object(Q.jsx)(ut.a,{})})}var at=Object(s.lazy)((function(){return n.e(6).then(n.bind(null,121))})),st=Object(s.lazy)((function(){return n.e(5).then(n.bind(null,122))})),bt=Object(s.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,123))})),jt=function(t){Object(M.a)(n,t);var e=Object(H.a)(n);function n(){return Object(B.a)(this,n),e.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.props.getCurrentUser()}},{key:"render",value:function(){return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(s.Suspense,{fallback:Object(Q.jsx)(it,{}),children:[Object(Q.jsx)(_,{}),Object(Q.jsxs)(P.d,{children:[Object(Q.jsx)(nt,{path:"/register",restricted:!0,redirectTo:"/contacts",component:at}),Object(Q.jsx)(nt,{path:"/login",restricted:!0,redirectTo:"/contacts",component:st}),Object(Q.jsx)(rt,{path:"/contacts",redirectTo:"/login",component:bt})]})]})})}}]),n}(s.Component),Ot={getCurrentUser:W.a.getCurrentUser},lt=Object(O.b)(null,Ot)(jt);f.a.render(Object(Q.jsx)(b.a.StrictMode,{children:Object(Q.jsx)(O.a,{store:N.store,children:Object(Q.jsx)(l.a,{loading:null,persistor:N.persistor,children:Object(Q.jsx)(j.a,{children:Object(Q.jsx)(lt,{})})})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.f86b0475.chunk.js.map