(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{11:function(t,e,n){"use strict";n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return O}));var r=n(3),c=(Object(r.b)("user/getCurrentUserRequest"),Object(r.b)("user/getCurrentUserSuccess"),Object(r.b)("user/getCurrentUserError"),Object(r.b)("user/registerRequest"),Object(r.b)("user/registerSuccess"),Object(r.b)("user/registerError"),Object(r.b)("user/loginRequest"),Object(r.b)("user/loginSuccess"),Object(r.b)("user/loginError"),Object(r.b)("user/logoutRequest"),Object(r.b)("user/logoutSuccess"),Object(r.b)("user/logoutError"),Object(r.b)("contacts/fetchContactsRequest")),o=Object(r.b)("contacts/fetchContactsSuccess"),u=Object(r.b)("contacts/fetchContactsError"),i=Object(r.b)("contacts/addRequest"),a=Object(r.b)("contacts/addSuccess"),s=Object(r.b)("contacts/addError"),b=Object(r.b)("contacts/deleteRequest"),j=Object(r.b)("contacts/deleteSuccess"),l=Object(r.b)("contacts/deleteError"),O=Object(r.b)("contacts/changeFilter")},32:function(t,e,n){"use strict";var r=n(35),c=n.n(r),o=n(44),u=n(23),i=n.n(u),a=n(5);i.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){i.a.defaults.headers.common.Authorization=""};e.a={getCurrentUser:function(){return function(){var t=Object(o.a)(c.a.mark((function t(e,n){var r,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),o=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(o),e(Object(a.b)()),t.prev=5,t.next=8,i.a.get("/users/current");case 8:u=t.sent,e(Object(a.c)(u.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(a.a)(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()},register:function(t){return function(e){e(Object(a.k)()),i.a.post("/users/signup",t).then((function(t){var n=t.data;console.log(n),s(n.token),e(Object(a.l)(n))})).catch((function(t){return e(Object(a.j)(t.message))}))}},login:function(t){return function(e){e(Object(a.e)()),i.a.post("/users/login",t).then((function(t){var n=t.data;s(n.token),e(Object(a.f)(n))})).catch((function(t){return e(Object(a.d)(t.message))}))}},logout:function(t){return function(e){e(Object(a.h)()),i.a.post("/users/logout",t).then((function(t){var n=t.data;return e(Object(a.i)(n))})).catch((function(t){return e(Object(a.g)(t.message))})),b()}}}},5:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"k",(function(){return i})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return d})),n.d(e,"g",(function(){return f}));var r=n(3),c=Object(r.b)("user/getCurrentUserRequest"),o=Object(r.b)("user/getCurrentUserSuccess"),u=Object(r.b)("user/getCurrentUserError"),i=Object(r.b)("user/registerRequest"),a=Object(r.b)("user/registerSuccess"),s=Object(r.b)("user/registerError"),b=Object(r.b)("user/loginRequest"),j=Object(r.b)("user/loginSuccess"),l=Object(r.b)("user/loginError"),O=Object(r.b)("user/logoutRequest"),d=Object(r.b)("user/logoutSuccess"),f=Object(r.b)("user/logoutError")},68:function(t,e,n){},94:function(t,e,n){"use strict";n.r(e);var r,c,o,u,i,a,s=n(0),b=n.n(s),j=n(19),l=n(14),O=n(55),d=n(31),f=n.n(d),h=(n(68),n(21)),g=n(3),p=n(20),x=n(56),k=n.n(x),m=n(4),v=n(8),y=n(11),w=Object(g.c)("",Object(m.a)({},y.d,(function(t,e){return e.payload}))),C=Object(g.c)([],(r={},Object(m.a)(r,y.j,(function(t,e){return e.payload})),Object(m.a)(r,y.c,(function(t,e){var n=e.payload;return[].concat(Object(h.a)(t),[n])})),Object(m.a)(r,y.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),S=Object(g.c)(!1,(c={},Object(m.a)(c,y.i,(function(){return!0})),Object(m.a)(c,y.b,(function(){return!0})),Object(m.a)(c,y.f,(function(){return!0})),Object(m.a)(c,y.j,(function(){return!1})),Object(m.a)(c,y.h,(function(){return!1})),Object(m.a)(c,y.c,(function(){return!1})),Object(m.a)(c,y.a,(function(){return!1})),Object(m.a)(c,y.g,(function(){return!1})),Object(m.a)(c,y.e,(function(){return!1})),c)),A=Object(v.c)({items:C,filter:w,loading:S}),R=n(5),E={name:null,email:null},q=Object(g.c)({},(o={},Object(m.a)(o,R.c,(function(t,e){return e.payload})),Object(m.a)(o,R.f,(function(t,e){return e.payload.user})),Object(m.a)(o,R.l,(function(t,e){return e.payload.user})),Object(m.a)(o,R.i,(function(){return E})),o)),U=Object(g.c)(null,(u={},Object(m.a)(u,R.f,(function(t,e){return e.payload.token})),Object(m.a)(u,R.l,(function(t,e){return e.payload.token})),Object(m.a)(u,R.i,(function(){return null})),u)),T=Object(g.c)(!1,(i={},Object(m.a)(i,R.c,(function(){return!0})),Object(m.a)(i,R.f,(function(){return!0})),Object(m.a)(i,R.l,(function(){return!0})),Object(m.a)(i,R.i,(function(){return!1})),Object(m.a)(i,R.a,(function(){return!1})),Object(m.a)(i,R.j,(function(){return!1})),Object(m.a)(i,R.d,(function(){return!1})),i)),z=Object(g.c)(null,(a={},Object(m.a)(a,R.d,(function(t,e){return e.payload})),Object(m.a)(a,R.j,(function(t,e){return e.payload})),Object(m.a)(a,R.g,(function(t,e){return e.payload})),Object(m.a)(a,R.a,(function(t,e){return e.payload})),a)),L=Object(v.c)({user:q,isAuthenticated:T,token:U,error:z}),F=Object(h.a)(Object(g.d)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})),D={key:"auth",storage:k.a,whitelist:["token"]},I=Object(g.a)({reducer:{auth:Object(p.g)(D,L),contacts:A},middleware:F,devTools:!1}),B={store:I,persistor:Object(p.h)(I)},H=n(39),M=n(27),N=n(41),J=n(40),_=n(7),K=n(32),P=function(t){return t.auth.isAuthenticated},W=function(t){return t.auth.user.name},Y=n(2),G={container:{display:"flex",justifyContent:"flex-end",alignItems:"center"},greeting:{marginRight:"20px"},button:{height:"25px",marginRight:"25px"}};var Q={logout:K.a.logout},V=Object(l.b)((function(t){return{userName:W(t)}}),Q)((function(t){var e=t.userName,n=t.logout;return Object(Y.jsxs)("div",{style:G.container,children:[Object(Y.jsxs)("p",{style:G.greeting,children:["Hello, ",e]}),Object(Y.jsx)("button",{style:G.button,onClick:function(){n()},children:"Logout"})]})})),X={container:{textAlign:"center"},link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#FFF"},activeLink:{color:"#519CD2"}};var Z=function(){return Object(Y.jsxs)("div",{style:X.container,children:[Object(Y.jsx)(j.b,{to:"/",exact:!0,style:X.link,activeStyle:X.activeLink,children:"Home"}),Object(Y.jsx)(j.b,{to:"/register",exact:!0,style:X.link,activeStyle:X.activeLink,children:"Registration"}),Object(Y.jsx)(j.b,{to:"/login",exact:!0,style:X.link,activeStyle:X.activeLink,children:"Log In"})]})};var $=Object(l.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.isAuthenticated;return Object(Y.jsx)(Y.Fragment,{children:e?Object(Y.jsx)(V,{}):Object(Y.jsx)(Z,{})})})),tt=n(22),et=n(6),nt=Object(l.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(et.a)(t,["component","isAuthenticated","redirectTo"]);return Object(Y.jsx)(_.b,Object(tt.a)(Object(tt.a)({},c),{},{render:function(t){return n&&c.restricted?Object(Y.jsx)(_.a,{to:r}):Object(Y.jsx)(e,Object(tt.a)({},t))}}))})),rt=Object(l.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(et.a)(t,["component","isAuthenticated","redirectTo"]);return Object(Y.jsx)(_.b,Object(tt.a)(Object(tt.a)({},c),{},{render:function(t){return n?Object(Y.jsx)(e,Object(tt.a)({},t)):Object(Y.jsx)(_.a,{to:r})}}))})),ct=n(108),ot=n(110),ut=Object(ct.a)((function(t){return{root:{position:"absolute",top:0,left:0,width:"100%"}}}));function it(){var t=ut();return Object(Y.jsx)("div",{className:t.root,children:Object(Y.jsx)(ot.a,{})})}var at={container:{textAlign:"center"},title:{fontSize:"40px",textAlign:"center",marginBottom:"100px"},link:{color:"orange",textDecoration:"none",margin:"10px"},developed:{fontSize:"21px",textAlign:"center",marginTop:"40px"}};var st=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("h1",{style:at.title,children:"Hello, here you can add your contacts online"}),Object(Y.jsx)("p",{style:at.developed,children:"Developed by Maksim Karpets"}),Object(Y.jsxs)("div",{style:at.container,children:[Object(Y.jsx)("p",{children:"You can contact with me here:"}),Object(Y.jsx)("a",{style:at.link,href:"https://www.linkedin.com/in/maksim-karpets-b468151a8/",target:"_blank",children:"LinkedIn"}),Object(Y.jsx)("a",{style:at.link,href:"https://t.me/maksimuchhh",target:"_blank",children:"Telegram"})]})]})},bt=Object(s.lazy)((function(){return n.e(6).then(n.bind(null,121))})),jt=Object(s.lazy)((function(){return n.e(5).then(n.bind(null,122))})),lt=Object(s.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,123))})),Ot=function(t){Object(N.a)(n,t);var e=Object(J.a)(n);function n(){return Object(H.a)(this,n),e.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.getCurrentUser()}},{key:"render",value:function(){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(s.Suspense,{fallback:Object(Y.jsx)(it,{}),children:[Object(Y.jsx)($,{}),Object(Y.jsxs)(_.d,{children:[Object(Y.jsx)(nt,{path:"/goit-react-hw-08-phonebook",exact:!0,component:st}),Object(Y.jsx)(nt,{exact:!0,path:"goit-react-hw-08-phonebook/register",restricted:!0,redirectTo:"goit-react-hw-08-phonebook/contacts",component:bt}),Object(Y.jsx)(nt,{exact:!0,path:"goit-react-hw-08-phonebook/login",restricted:!0,redirectTo:"goit-react-hw-08-phonebook/contacts",component:jt}),Object(Y.jsx)(rt,{exact:!0,path:"goit-react-hw-08-phonebook/contacts",redirectTo:"goit-react-hw-08-phonebook/login",component:lt})]})]})})}}]),n}(s.Component),dt={getCurrentUser:K.a.getCurrentUser},ft=Object(l.b)(null,dt)(Ot);f.a.render(Object(Y.jsx)(b.a.StrictMode,{children:Object(Y.jsx)(l.a,{store:B.store,children:Object(Y.jsx)(O.a,{loading:null,persistor:B.persistor,children:Object(Y.jsx)(j.a,{children:Object(Y.jsx)(ft,{})})})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.223ec747.chunk.js.map