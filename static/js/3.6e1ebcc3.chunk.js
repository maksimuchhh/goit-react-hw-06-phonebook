(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{112:function(t,e,n){},113:function(t,e,n){t.exports={title:"Contacts_title__vO59W",error:"Contacts_error__29P0H",appear:"Contacts_appear__ZQCDL",appearActive:"Contacts_appearActive__AcIrF",enter:"Contacts_enter__Z5mII",enterActive:"Contacts_enterActive__ScSZJ",exit:"Contacts_exit__3aKHp",exitActive:"Contacts_exitActive__kwxlQ"}},114:function(t,e,n){},115:function(t,e,n){t.exports={form:"Form_form__2TM1N"}},116:function(t,e,n){},117:function(t,e,n){},120:function(t,e,n){"use strict";n.r(e),n.d(e,"Contacts",(function(){return A}));var c=n(38),a=n(0),r=n(121),i=n(14),o=(n(112),n(113)),u=n.n(o),s=n(2),l=function(t){var e=t.children,n=t.title;return Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("h2",{children:n}),Object(s.jsx)("section",{children:e})]})},j=n(21),b=(n(114),function(t){var e=t.name,n=t.changeInputForFilter,c=t.changeInput,a=t.value,i=t.isOpen,o=Object(j.a)(e);return o.splice(0,1,o[0].toUpperCase()),"filter"===e?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(r.a,{in:i,timeout:250,classNames:"label",unmountOnExit:!0,children:Object(s.jsx)("label",{htmlFor:e,children:o})}),Object(s.jsx)(r.a,{in:i,timeout:250,classNames:"form",unmountOnExit:!0,children:Object(s.jsx)("input",{onChange:"filter"===e?n:c,type:"text",id:e,value:a})})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("label",{htmlFor:e,children:o}),Object(s.jsx)("input",{onChange:c,type:"text",id:e,value:a})]})}),f=function(t){var e=t.text,n=t.deleteContact,c=t.id;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("button",{id:n?c:null,onClick:n?function(){return n(c)}:null,type:"submit",children:e})})},d=n(115),h=n.n(d);function O(t){var e=t.addContact,n=Object(a.useState)(""),r=Object(c.a)(n,2),i=r[0],o=r[1],u=Object(a.useState)(""),l=Object(c.a)(u,2),j=l[0],d=l[1];return Object(s.jsxs)("form",{className:h.a.form,onSubmit:function(t){e(t,{name:i,number:j}),o(""),d("")},children:[Object(s.jsx)(b,{name:"name",changeInput:function(t){var e=t.target;return o(e.value)},value:i}),Object(s.jsx)(b,{name:"number",changeInput:function(t){var e=t.target;return d(e.value)},value:j}),Object(s.jsx)(f,{text:"Add contact"})]})}var m=n(122),x=(n(116),function(t){var e=t.contacts,n=t.filter,c=t.deleteContact;return n.length>0&&(e=e.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))),Object(s.jsx)(m.a,{component:"ul",children:e.map((function(t){return Object(s.jsx)(r.a,{timeout:250,classNames:"item",children:Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{children:t.name}),": ",Object(s.jsxs)("span",{children:[t.number," "]}),Object(s.jsx)(f,{deleteContact:c,text:"Delete",id:t.id})]})},t.id)}))})}),p=(n(117),n(11)),v=n(22),C=n.n(v);C.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var _=function(){return function(t){t(Object(p.i)()),C.a.get("/contacts").then((function(e){var n=e.data;return t(Object(p.j)(n))})).catch((function(e){return t(Object(p.h)(e))}))}},g=function(t){return function(e){e(Object(p.b)()),C.a.post("/contacts",t).then((function(t){var n=t.data;return e(Object(p.c)(n))})).catch((function(t){return e(Object(p.a)(t))}))}},F=function(t){return function(e){e(Object(p.f)()),C.a.delete("contacts/".concat(t)).then((function(){return e(Object(p.g)(t))})).catch((function(t){return e(Object(p.e)(t))}))}},N=function(t){return t.contacts.filter},k=function(t){return t.contacts.items},S=void 0,A=function(t){var e=t.filter,n=t.contacts,i=t.fetchContacts,o=t.changeFilter,j=t.addContact,f=t.deleteContact,d=Object(a.useState)(!1),h=Object(c.a)(d,2),m=h[0],p=h[1],v=Object(a.useState)(null),C=Object(c.a)(v,2),_=C[0],g=C[1];Object(a.useEffect)((function(){i()}),[]);return Object(s.jsxs)("div",{className:u.a.container,children:[Object(s.jsx)(r.a,{in:!1!==m,timeout:300,classNames:u.a,unmountOnExit:!0,children:Object(s.jsx)("div",{className:u.a.error,children:_})}),Object(s.jsx)(r.a,{in:!0,timeout:500,appear:!0,classNames:u.a,unmountOnExit:!0,children:Object(s.jsx)("h1",{className:u.a.title,children:"Phonebook"})}),Object(s.jsx)(O,{addContact:function(t,e){var c,a=e.name,r=e.number;return t.preventDefault(),0===(r.length||a.length)?(S.setState({errorText:"Enter all empties",error:!0}),void setTimeout((function(){S.setState({error:!1})}),5e3)):void 0!==n.find((function(t){return t.name===a}))?(c="You already add ".concat(a),p(!0),g(c),void setTimeout((function(){p(!1)}),5e3)):void j({name:a,number:r})}}),Object(s.jsx)(r.a,{in:n.length>0,timeout:250,classNames:"section",unmountOnExit:!0,children:Object(s.jsxs)(l,{title:"Contacts",children:[Object(s.jsx)(b,{name:"filter",isOpen:n.length>1,changeInputForFilter:o}),Object(s.jsx)(x,{contacts:n,filter:e,deleteContact:f})]})})]})};e.default=Object(i.b)((function(t){return{filter:N(t),contacts:k(t)}}),(function(t){return{fetchContacts:function(){return t(_())},changeFilter:function(e){return t(Object(p.d)(e.target.value))},addContact:function(e){return t(g(e))},deleteContact:function(e){return t(F(e))}}}))(A)}}]);
//# sourceMappingURL=3.6e1ebcc3.chunk.js.map