(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{11:function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return O}));var c=n(3),r=(Object(c.b)("user/getCurrentUserRequest"),Object(c.b)("user/getCurrentUserSuccess"),Object(c.b)("user/getCurrentUserError"),Object(c.b)("user/registerRequest"),Object(c.b)("user/registerSuccess"),Object(c.b)("user/registerError"),Object(c.b)("user/loginRequest"),Object(c.b)("user/loginSuccess"),Object(c.b)("user/loginError"),Object(c.b)("user/logoutRequest"),Object(c.b)("user/logoutSuccess"),Object(c.b)("user/logoutError"),Object(c.b)("contacts/fetchContactsRequest")),o=Object(c.b)("contacts/fetchContactsSuccess"),u=Object(c.b)("contacts/fetchContactsError"),i=Object(c.b)("contacts/addRequest"),a=Object(c.b)("contacts/addSuccess"),s=Object(c.b)("contacts/addError"),b=Object(c.b)("contacts/deleteRequest"),j=Object(c.b)("contacts/deleteSuccess"),l=Object(c.b)("contacts/deleteError"),O=Object(c.b)("contacts/changeFilter")},32:function(t,e,n){"use strict";var c=n(35),r=n.n(c),o=n(44),u=n(23),i=n.n(u),a=n(5);i.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){i.a.defaults.headers.common.Authorization=""};e.a={getCurrentUser:function(){return function(){var t=Object(o.a)(r.a.mark((function t(e,n){var c,o,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),o=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(o),e(Object(a.b)()),t.prev=5,t.next=8,i.a.get("/users/current");case 8:u=t.sent,e(Object(a.c)(u.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(a.a)(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()},register:function(t){return function(e){e(Object(a.k)()),i.a.post("/users/signup",t).then((function(t){var n=t.data;console.log(n),s(n.token),e(Object(a.l)(n))})).catch((function(t){return e(Object(a.j)(t.message))}))}},login:function(t){return function(e){e(Object(a.e)()),i.a.post("/users/login",t).then((function(t){var n=t.data;s(n.token),e(Object(a.f)(n))})).catch((function(t){return e(Object(a.d)(t.message))}))}},logout:function(t){return function(e){e(Object(a.h)()),i.a.post("/users/logout",t).then((function(t){var n=t.data;return e(Object(a.i)(n))})).catch((function(t){return e(Object(a.g)(t.message))})),b()}}}},5:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"k",(function(){return i})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return d})),n.d(e,"g",(function(){return f}));var c=n(3),r=Object(c.b)("user/getCurrentUserRequest"),o=Object(c.b)("user/getCurrentUserSuccess"),u=Object(c.b)("user/getCurrentUserError"),i=Object(c.b)("user/registerRequest"),a=Object(c.b)("user/registerSuccess"),s=Object(c.b)("user/registerError"),b=Object(c.b)("user/loginRequest"),j=Object(c.b)("user/loginSuccess"),l=Object(c.b)("user/loginError"),O=Object(c.b)("user/logoutRequest"),d=Object(c.b)("user/logoutSuccess"),f=Object(c.b)("user/logoutError")},68:function(t,e,n){},94:function(t,e,n){"use strict";n.r(e);var c,r,o,u,i,a,s=n(0),b=n.n(s),j=n(19),l=n(14),O=n(55),d=n(31),f=n.n(d),h=(n(68),n(21)),g=n(3),p=n(20),x=n(56),m=n.n(x),k=n(4),v=n(8),y=n(11),w=Object(g.c)("",Object(k.a)({},y.d,(function(t,e){return e.payload}))),C=Object(g.c)([],(c={},Object(k.a)(c,y.j,(function(t,e){return e.payload})),Object(k.a)(c,y.c,(function(t,e){var n=e.payload;return[].concat(Object(h.a)(t),[n])})),Object(k.a)(c,y.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),S=Object(g.c)(!1,(r={},Object(k.a)(r,y.i,(function(){return!0})),Object(k.a)(r,y.b,(function(){return!0})),Object(k.a)(r,y.f,(function(){return!0})),Object(k.a)(r,y.j,(function(){return!1})),Object(k.a)(r,y.h,(function(){return!1})),Object(k.a)(r,y.c,(function(){return!1})),Object(k.a)(r,y.a,(function(){return!1})),Object(k.a)(r,y.g,(function(){return!1})),Object(k.a)(r,y.e,(function(){return!1})),r)),A=Object(v.c)({items:C,filter:w,loading:S}),R=n(5),E={name:null,email:null},q=Object(g.c)({},(o={},Object(k.a)(o,R.c,(function(t,e){return e.payload})),Object(k.a)(o,R.f,(function(t,e){return e.payload.user})),Object(k.a)(o,R.l,(function(t,e){return e.payload.user})),Object(k.a)(o,R.i,(function(){return E})),o)),U=Object(g.c)(null,(u={},Object(k.a)(u,R.f,(function(t,e){return e.payload.token})),Object(k.a)(u,R.l,(function(t,e){return e.payload.token})),Object(k.a)(u,R.i,(function(){return null})),u)),T=Object(g.c)(!1,(i={},Object(k.a)(i,R.c,(function(){return!0})),Object(k.a)(i,R.f,(function(){return!0})),Object(k.a)(i,R.l,(function(){return!0})),Object(k.a)(i,R.i,(function(){return!1})),Object(k.a)(i,R.a,(function(){return!1})),Object(k.a)(i,R.j,(function(){return!1})),Object(k.a)(i,R.d,(function(){return!1})),i)),z=Object(g.c)(null,(a={},Object(k.a)(a,R.d,(function(t,e){return e.payload})),Object(k.a)(a,R.j,(function(t,e){return e.payload})),Object(k.a)(a,R.g,(function(t,e){return e.payload})),Object(k.a)(a,R.a,(function(t,e){return e.payload})),a)),L=Object(v.c)({user:q,isAuthenticated:T,token:U,error:z}),F=Object(h.a)(Object(g.d)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})),D={key:"auth",storage:m.a,whitelist:["token"]},I=Object(g.a)({reducer:{auth:Object(p.g)(D,L),contacts:A},middleware:F,devTools:!1}),B={store:I,persistor:Object(p.h)(I)},H=n(39),M=n(27),N=n(41),J=n(40),_=n(7),K=n(32),P=function(t){return t.auth.isAuthenticated},W=function(t){return t.auth.user.name},Y=n(2),G={container:{display:"flex",justifyContent:"flex-end",alignItems:"center"},greeting:{marginRight:"20px"},button:{height:"25px",marginRight:"25px"}};var Q={logout:K.a.logout},V=Object(l.b)((function(t){return{userName:W(t)}}),Q)((function(t){var e=t.userName,n=t.logout;return Object(Y.jsxs)("div",{style:G.container,children:[Object(Y.jsxs)("p",{style:G.greeting,children:["Hello, ",e]}),Object(Y.jsx)("button",{style:G.button,onClick:function(){n()},children:"Logout"})]})})),X={container:{textAlign:"center"},link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#FFF"},activeLink:{color:"#519CD2"}};var Z=function(){return Object(Y.jsxs)("div",{style:X.container,children:[Object(Y.jsx)(j.b,{to:"/",exact:!0,style:X.link,activeStyle:X.activeLink,children:"Home"}),Object(Y.jsx)(j.b,{to:"/register",exact:!0,style:X.link,activeStyle:X.activeLink,children:"Registration"}),Object(Y.jsx)(j.b,{to:"/login",exact:!0,style:X.link,activeStyle:X.activeLink,children:"Log In"})]})};var $=Object(l.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.isAuthenticated;return Object(Y.jsx)(Y.Fragment,{children:e?Object(Y.jsx)(V,{}):Object(Y.jsx)(Z,{})})})),tt=n(22),et=n(6),nt=Object(l.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.redirectTo,r=Object(et.a)(t,["component","isAuthenticated","redirectTo"]);return Object(Y.jsx)(_.b,Object(tt.a)(Object(tt.a)({},r),{},{render:function(t){return n&&r.restricted?Object(Y.jsx)(_.a,{to:c}):Object(Y.jsx)(e,Object(tt.a)({},t))}}))})),ct=Object(l.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.redirectTo,r=Object(et.a)(t,["component","isAuthenticated","redirectTo"]);return Object(Y.jsx)(_.b,Object(tt.a)(Object(tt.a)({},r),{},{render:function(t){return n?Object(Y.jsx)(e,Object(tt.a)({},t)):Object(Y.jsx)(_.a,{to:c})}}))})),rt=n(108),ot=n(110),ut=Object(rt.a)((function(t){return{root:{position:"absolute",top:0,left:0,width:"100%"}}}));function it(){var t=ut();return Object(Y.jsx)("div",{className:t.root,children:Object(Y.jsx)(ot.a,{})})}var at={container:{textAlign:"center"},title:{fontSize:"40px",textAlign:"center",marginBottom:"100px"},link:{color:"orange",textDecoration:"none",margin:"10px"},developed:{fontSize:"21px",textAlign:"center",marginTop:"40px"}};var st=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("h1",{style:at.title,children:"Hello, here you can add your contacts online"}),Object(Y.jsx)("p",{style:at.developed,children:"Developed by Maksim Karpets"}),Object(Y.jsxs)("div",{style:at.container,children:[Object(Y.jsx)("p",{children:"You can contact with me here:"}),Object(Y.jsx)("a",{style:at.link,href:"https://www.linkedin.com/in/maksim-karpets-b468151a8/",target:"_blank",children:"LinkedIn"}),Object(Y.jsx)("a",{style:at.link,href:"https://t.me/maksimuchhh",target:"_blank",children:"Telegram"})]})]})},bt=Object(s.lazy)((function(){return n.e(6).then(n.bind(null,121))})),jt=Object(s.lazy)((function(){return n.e(5).then(n.bind(null,122))})),lt=Object(s.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,123))})),Ot=function(t){Object(N.a)(n,t);var e=Object(J.a)(n);function n(){return Object(H.a)(this,n),e.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.getCurrentUser()}},{key:"render",value:function(){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(s.Suspense,{fallback:Object(Y.jsx)(it,{}),children:[Object(Y.jsx)($,{}),Object(Y.jsxs)(_.d,{children:[Object(Y.jsx)(nt,{path:"/",exact:!0,component:st}),Object(Y.jsx)(nt,{path:"".concat(window.location.pathname,"/register"),restricted:!0,redirectTo:"/contacts",component:bt}),Object(Y.jsx)(nt,{path:"".concat(window.location.pathname,"/login"),restricted:!0,redirectTo:"/contacts",component:jt}),Object(Y.jsx)(ct,{path:"".concat(window.location.pathname,"/contacts"),redirectTo:"/login",component:lt})]})]})})}}]),n}(s.Component),dt={getCurrentUser:K.a.getCurrentUser},ft=Object(l.b)(null,dt)(Ot);f.a.render(Object(Y.jsx)(b.a.StrictMode,{children:Object(Y.jsx)(l.a,{store:B.store,children:Object(Y.jsx)(O.a,{loading:null,persistor:B.persistor,children:Object(Y.jsx)(j.a,{children:Object(Y.jsx)(ft,{})})})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.71f49e3d.chunk.js.map